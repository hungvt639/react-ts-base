(this["webpackJsonpreact-app-ts"]=this["webpackJsonpreact-app-ts"]||[]).push([[12],{149:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(750);function s(e){console.log("err___________",e),"undefined"!==typeof e.response?n.b.error(e.response.data.message):n.b.error("\u0110\xe3 c\xf3 l\u1ed7i s\u1ea3y ra, b\u1ea1n vui l\xf2ng th\u1eed l\u1ea1i sau")}},210:function(e,t,r){"use strict";function n(e){if(!e)return!1;return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function s(e,t){return!(!e||!t)&&e===t}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return s}))},281:function(e,t,r){},529:function(e,t,r){},765:function(e,t,r){"use strict";r.r(t);var n=r(2),s=r.n(n),a=r(45),c=r(44),i=(r(529),r(1)),o=r(25),l=r(8),u=r(750),d=r(763),b=r(762),j=r(748),h=r(34),p=r(539),f=r.n(p),O=r(31),x=r(6),m=function(e){var t=e.isUser,r=e.user,n=e.token,s=Object(o.b)(),a=Object(i.useState)(!1),p=Object(c.a)(a,2),m=(p[0],p[1]);return Object(x.jsxs)("div",{className:"avatar",children:[Object(x.jsxs)("div",{className:"avatar-img",children:[Object(x.jsx)(d.a,{className:"avatar-image",src:"".concat(O.b).concat(null===r||void 0===r?void 0:r.avatar)}),t?Object(x.jsx)(j.a,{children:Object(x.jsx)(b.a,{name:"avatar",listType:"picture-card",className:"change-avatar",showUploadList:!1,action:"".concat(O.a,"/user/avatar"),beforeUpload:function(e){var t=["image/jpeg","image/png"].includes(e.type);return t||u.b.error("Kh\xf4ng h\u1ed7 tr\u1ee3 lo\u1ea1i file n\xe0y"),t},headers:{Authorization:"Bearer "+n},onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&(s(Object(h.d)(r?Object(l.a)(Object(l.a)({},r),{},{avatar:e.file.response.avatar}):void 0)),m(!1),u.b.success("C\u1eadp nh\u1eadt \u1ea3nh \u0111\u1ea1i di\u1ec7n th\xe0nh c\xf4ng")):m(!0)},children:Object(x.jsx)(f.a,{})})}):Object(x.jsx)(x.Fragment,{})]}),Object(x.jsx)("p",{className:"fullname",children:null===r||void 0===r?void 0:r.fullname})]})},v=function(e){var t=e.children,r=e.show,n=e.onClose;return Object(x.jsxs)("div",{className:r?"modal":"modal-none",children:[Object(x.jsx)("div",{className:r?"modal-children":"modal-children-none",children:t}),Object(x.jsx)("div",{style:{display:r?"block":"none"},onClick:n,className:"modal-close"})]})},w=r(275),g=function(){var e=Object(w.a)().handleSubmit;function t(){return(t=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsx)("form",{className:"form-edit_profile",onSubmit:e((function(e){return t.apply(this,arguments)})),children:Object(x.jsx)("div",{className:"btn-submit",children:Object(x.jsx)("button",{type:"submit",children:"Ch\u1ec9nh s\u1eeda"})})})},k=r(210),y=r(46),N=r(149);function _(){return(_=Object(a.a)(s.a.mark((function e(t,r,n){var a,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.old_password,c=t.password,i=t.re_password,o=Object(k.a)(c,i),r({oldPassword:!a,password:!c,rePassword:!i,checkRePassword:!o}),!a||!o){e.next=14;break}return e.prev=4,e.next=7,y.a.user.changePassword({old_password:a,password:c});case 7:u.b.success("\u0110\u1ed5i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng!"),n({old_password:"",password:"",re_password:""}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),Object(N.a)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function C(){return(C=Object(a.a)(s.a.mark((function e(t,r){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.user.addFriend(t);case 3:n=e.sent,r(n.data.friends),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(N.a)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(e,t){return S.apply(this,arguments)}function S(){return(S=Object(a.a)(s.a.mark((function e(t,r){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.user.unfriend(t);case 3:n=e.sent,r(n.data.friends),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(N.a)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function P(){return(P=Object(a.a)(s.a.mark((function e(t,r){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("acccc"),e.prev=1,e.next=4,y.a.user.acceptFriend(t);case 4:n=e.sent,r(n.data.friends),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(N.a)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function L(e){return M.apply(this,arguments)}function M(){return(M=Object(a.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.user.getChatUser(t);case 3:return r=e.sent,e.abrupt("return",r.data._id);case 7:e.prev=7,e.t0=e.catch(0),Object(N.a)(e.t0);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}r(281);var U=function(e){var t=e.show,r=e.message;return t?Object(x.jsx)("p",{className:"notification-validate",children:r}):Object(x.jsx)(i.Fragment,{})},H=function(){var e=Object(w.a)(),t=e.register,r=e.handleSubmit,n=e.reset,s=Object(i.useState)({oldPassword:!1,password:!1,rePassword:!1,checkRePassword:!1}),a=Object(c.a)(s,2),o=a[0],u=a[1];return Object(x.jsxs)("form",{onSubmit:r((function(e){return function(e,t,r){return _.apply(this,arguments)}(e,u,n)})),children:[Object(x.jsxs)("div",{className:"flex-column old-password",children:[Object(x.jsx)("label",{htmlFor:"old_password",children:"M\u1eadt kh\u1ea9u c\u0169:"}),Object(x.jsx)("input",Object(l.a)({type:"password",id:"old_password"},t("old_password",{required:!0}))),Object(x.jsx)(U,{show:o.oldPassword,message:"M\u1eadt kh\u1ea9u c\u0169 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"})]}),Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsxs)("div",{className:"flex-column new-password",children:[Object(x.jsx)("label",{htmlFor:"password",children:"M\u1eadt kh\u1ea9u m\u1edbi:"}),Object(x.jsx)("input",Object(l.a)({type:"password",id:"password"},t("password",{required:!0}))),Object(x.jsx)(U,{show:o.password,message:"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"})]}),Object(x.jsxs)("div",{className:"flex-column re-new-password",children:[Object(x.jsx)("label",{htmlFor:"re_password",children:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u:"}),Object(x.jsx)("input",Object(l.a)({type:"password",id:"re_password"},t("re_password",{required:!0}))),Object(x.jsx)(U,{show:o.rePassword,message:"Vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"}),Object(x.jsx)(U,{show:o.checkRePassword,message:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang"})]})]}),Object(x.jsx)("div",{className:"btn-submit-change-password",children:Object(x.jsx)("button",{type:"submit",children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"})})]})},T=0,q=1,z=function(e){var t=e._id,r=e.friendList,n=e.setListFriend,s=e.goToMessage,a=null===r||void 0===r?void 0:r.filter((function(e){return e.idFriend===t}));return console.log("id_",t),console.log("fr",a),(null===a||void 0===a?void 0:a.length)?a[0].status===T?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("button",{onClick:function(){return F(t,n)},className:"bg-red-800 border-red-800 text-white",children:"H\u1ee7y k\u1ebft b\u1ea1n"})}):a[0].status===q?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{onClick:function(){return function(e,t){return P.apply(this,arguments)}(t,n)},className:"bg-green-700 border-gray-500 text-white mr-5",children:"Ch\u1ea5p nh\u1eadn l\u1eddi m\u1eddi k\u1ebft b\u1ea1n"}),Object(x.jsx)("button",{onClick:function(){return F(t,n)},className:"bg-red-800 border-red-800 text-white",children:"H\u1ee7y"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{onClick:s,className:"bg-yellow-400 broder-yellow-400",children:"Nh\u1eafn tin"}),Object(x.jsx)("button",{onClick:function(){return F(t,n)},className:"bg-red-800 border-red-800 text-white",children:"H\u1ee7y k\u1ebft b\u1ea1n"})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("button",{onClick:function(){return function(e,t){return C.apply(this,arguments)}(t,n)},className:"bg-blue-400 border-blue-400 text-white",children:"K\u1ebft b\u1ea1n"})})},A=r(5),R=r(15);t.default=function(e){var t=e.match.params.id,r=Object(A.g)(),n=Object(i.useState)(!1),l=Object(c.a)(n,2),u=l[0],d=l[1],b=Object(i.useState)(),j=Object(c.a)(b,2),p=j[0],f=j[1],O=Object(o.c)((function(e){var t;return null===(t=e.userState.user)||void 0===t?void 0:t._id})),w=Object(o.c)((function(e){return e.userState.user})),k=Object(o.c)((function(e){var t;return null===(t=e.userState.user)||void 0===t?void 0:t.friends})),_=Object(o.c)((function(e){return e.userState.token}));console.log("user",e.match.params.id),Object(i.useEffect)((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==O){e.next=4;break}f(w),e.next=14;break;case 4:return e.prev=4,e.next=7,y.a.user.getUser(t,"");case 7:r=e.sent,f(r.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),Object(N.a)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,O,w]);var C=Object(o.b)();function F(){return(F=Object(a.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:(n=e.sent)&&r.push("".concat(R.h,"/").concat(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsxs)("div",{className:"profile",children:[Object(x.jsxs)("div",{className:"show-profile display-flex",children:[Object(x.jsx)("div",{className:"left center",children:Object(x.jsx)(m,{isUser:t===O,user:p,token:_})}),Object(x.jsxs)("div",{className:"right",children:[Object(x.jsxs)("div",{className:"right-top",children:[Object(x.jsxs)("div",{className:"display-flex",children:[Object(x.jsx)("p",{className:"laber-profile",children:"H\u1ecd v\xe0 T\xean: "}),Object(x.jsx)("p",{children:null===p||void 0===p?void 0:p.fullname})]}),Object(x.jsxs)("div",{className:"display-flex",children:[Object(x.jsx)("p",{className:"laber-profile",children:"Email: "}),Object(x.jsx)("p",{children:null===p||void 0===p?void 0:p.email})]}),Object(x.jsxs)("div",{className:"display-flex",children:[Object(x.jsx)("p",{className:"laber-profile",children:"\u0110\u1ecba ch\u1ec9: "}),Object(x.jsx)("p",{children:null===p||void 0===p?void 0:p.address})]}),Object(x.jsxs)("div",{className:"display-flex",children:[Object(x.jsx)("p",{className:"laber-profile",children:"ng\xe0y sinh: "}),Object(x.jsx)("p",{children:null===p||void 0===p?void 0:p.birthday})]}),O===t?Object(x.jsx)("div",{className:"btn-edit-profile",children:Object(x.jsx)("button",{onClick:function(){return d(!0)},children:"Ch\u1ec9nh s\u1eeda th\xf4ng tin"})}):Object(x.jsx)(x.Fragment,{})]}),Object(x.jsx)("div",{className:"right-bottom flex-1",children:O===t?Object(x.jsx)(H,{}):Object(x.jsx)(z,{_id:t,friendList:k,setListFriend:function(e){C(Object(h.b)(e))},goToMessage:function(){return F.apply(this,arguments)}})})]})]}),Object(x.jsx)(v,{show:u,onClose:function(){return d(!1)},children:Object(x.jsx)(g,{})})]})}}}]);
//# sourceMappingURL=12.5bf55d0f.chunk.js.map